<ls:StateMachine xmlns:ls="clr-namespace:ls;assembly=Code"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ls:StateMachine.States>
        <ls:State Name = "CharacterLevelUp" HideStatesBelow = "True" IsModalCameraControlAllowed="True" Layout = "Player" Owner = "Player" ForceSplitscreen="True" ModType="Override">
            <ls:State.Widgets>
                <ls:StateWidget Filename="Notification.xaml" Layer="Default"/>
                <ls:StateWidget Filename="CharacterLevelUpPF2e.xaml" Layer="HUD"/>
                <ls:StateWidget Filename="ScreenFade.xaml" Layer="ScreenFade" BlockedLoading="True"/>
            </ls:State.Widgets>

            <ls:State.Events>
                <ls:StateEvent Name = "OpenCharacterLevelUp"/>
                <ls:StateEvent Name = "CloseWidget">
                    <ls:StateEvent.Actions>
                        <ls:RemoveState/>
                    </ls:StateEvent.Actions>
                </ls:StateEvent>
                <ls:StateEvent Name = "IE.UICancel">
                    <ls:StateEvent.Actions>
                        <ls:RemoveState/>
                    </ls:StateEvent.Actions>
                </ls:StateEvent>
                <ls:StateEvent Name = "OpenPinnedTooltips">
                    <ls:StateEvent.Actions>
                        <ls:AddSubstate Name="PinnedTooltips"/>
                    </ls:StateEvent.Actions>
                </ls:StateEvent>
                <ls:StateEvent Name = "GE.OnDialogueShow">
                    <ls:StateEvent.Actions>
                        <ls:RemoveState/>
                        <ls:PushState Name="Dialogue"/>
                    </ls:StateEvent.Actions>
                </ls:StateEvent>
                <ls:StateEvent Name = "ToggleGameMenu">
                    <ls:StateEvent.Actions>
                        <ls:RemoveState/>
                    </ls:StateEvent.Actions>
                </ls:StateEvent>
                <ls:StateEvent Name = "IE.ToggleInGameMenu">
                    <ls:StateEvent.Actions>
                        <ls:RemoveState/>
                    </ls:StateEvent.Actions>
                </ls:StateEvent>
            </ls:State.Events>
        </ls:State>

        <ls:State Name = "IUI_CursorText" Layout = "Player" Owner = "Player" ModType="Override">
            <ls:State.Widgets>
                <ls:StateWidget Filename="CursorTextPF2e.xaml" Layer="PopupPanels"/>
            </ls:State.Widgets>
        </ls:State>
    </ls:StateMachine.States>
</ls:StateMachine>